#!/usr/bin/env php
<?php
$files = [
	__DIR__ . '/../../../autoload.php', // composer dependency
	__DIR__ . '/../vendor/autoload.php', // stand-alone package
];

foreach ($files as $file) {
	if (is_file($file)) {
		require_once $file;
		break;
	}
}

use ILAB\Greedo\Commands\InitCommand;
use ILAB\Greedo\Commands\StartCommand;
use ILAB\Greedo\Commands\StopCommand;
use Symfony\Component\Console\Application;

$root = trailingslashit(getcwd());

$startCommand = new StartCommand(null, $root, __DIR__.'/..');
$stopCommand = new StopCommand(null, $root, __DIR__.'/..');
$initCommand = new InitCommand(null, $root, __DIR__.'/..');

$application = new Application();
$application->add($initCommand);
$application->add($startCommand);
$application->add($stopCommand);
$application->run();

